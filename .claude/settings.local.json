{
  "permissions": {
    "allow": [
      "Bash(git config:*)",
      "Bash(git remote set-url:*)",
      "Bash(git push:*)",
      "Bash(git add:*)",
      "Bash(git rm:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nConvert to full-stack app with Express backend and SQLite database\n\n- Add Express server with REST API endpoints for players and tournaments\n- Add SQLite database (better-sqlite3) for persistent data storage\n- Move frontend to public/ directory\n- Update frontend to use API instead of localStorage\n- Add railway.json for Railway deployment\n- Update README with deployment instructions\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(npm install:*)",
      "Bash(node:*)",
      "Bash(taskkill:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(powershell \"Stop-Process -Id 5228 -Force\")",
      "Bash(cat:*)",
      "Bash(DATABASE_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" node -e \"\nconst { Pool } = require\\(''pg''\\);\nconst pool = new Pool\\({ connectionString: process.env.DATABASE_URL, ssl: { rejectUnauthorized: false } }\\);\nasync function test\\(\\) {\n  try {\n    const tables = await pool.query\\(\"\"SELECT table_name FROM information_schema.tables WHERE table_schema = ''public''\"\"\\);\n    console.log\\(''Tables:'', tables.rows.map\\(r => r.table_name\\)\\);\n    \n    const players = await pool.query\\(''SELECT * FROM players ORDER BY seed NULLS LAST''\\);\n    console.log\\(''\\\\nPlayers:'', players.rows.length\\);\n    players.rows.forEach\\(p => console.log\\(''  -'', p.name, p.seed ? ''\\(seed '' + p.seed + ''\\)'' : ''''\\)\\);\n    \n    await pool.end\\(\\);\n  } catch \\(e\\) { console.error\\(''Error:'', e.message\\); }\n}\ntest\\(\\);\n\")",
      "Bash(DATABASE_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" node:*)",
      "Bash(curl:*)",
      "Bash(DATABASE_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" node -e:*)",
      "Bash(timeout /t 2 /nobreak:*)",
      "Bash(powershell \"Stop-Process -Id 6316 -Force\")",
      "Bash(powershell \"Stop-Process -Id 31312 -Force\")",
      "Bash(timeout /t 3 /nobreak)",
      "Bash(powershell \"Stop-Process -Id 29272 -Force\")",
      "Bash(python3:*)",
      "Bash(pkill:*)",
      "Bash(http://localhost:3000/api/season/create)",
      "Bash(fuser:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(# Try to find the node PID differently ps aux | grep -i node | grep -v grep || tasklist)",
      "Bash(tasklist:*)",
      "Bash(kill:*)",
      "Bash(DATABASE_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" timeout 10 node:*)",
      "Bash(powershell \"Stop-Process -Id 112484 -Force\")",
      "Bash(DATABASE_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" timeout 15 node:*)",
      "Bash(git fetch:*)",
      "Bash(git pull:*)",
      "Bash(git restore:*)",
      "Bash(POSTGRES_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" node -e:*)",
      "Bash(POSTGRES_URL=\"postgresql://postgres:BzCehsHrclUqHZGiJjfcVpaTJxAbFDaG@yamanote.proxy.rlwy.net:24160/railway\" node:*)",
      "Bash(env)",
      "Bash(POSTGRES_URL=\"postgres://postgres.bzabfkdopjydwkcutntz:vOArftFeh9iJ91Dd@aws-1-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require\" node -e \"\nconst { Pool } = require\\(''pg''\\);\nconst fs = require\\(''fs''\\);\n\nconst pool = new Pool\\({\n  connectionString: process.env.POSTGRES_URL,\n  ssl: { rejectUnauthorized: false }\n}\\);\n\nasync function setupDatabase\\(\\) {\n  const client = await pool.connect\\(\\);\n  try {\n    console.log\\(''Connected to Supabase database''\\);\n    \n    // Read and execute schema\n    const schema = fs.readFileSync\\(''schema.sql'', ''utf8''\\);\n    await client.query\\(schema\\);\n    console.log\\(''âœ“ All tables created successfully''\\);\n    \n    // Also create notifications table if it doesn''t exist \\(for Railway compatibility\\)\n    await client.query\\(\\\\`\n      CREATE TABLE IF NOT EXISTS notifications \\(\n        id SERIAL PRIMARY KEY,\n        player_name VARCHAR\\(255\\),\n        message TEXT NOT NULL,\n        type VARCHAR\\(50\\),\n        read BOOLEAN DEFAULT FALSE,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      \\)\n    \\\\`\\);\n    console.log\\(''âœ“ Notifications table created''\\);\n    \n  } catch \\(error\\) {\n    console.error\\(''Error creating tables:'', error.message\\);\n    throw error;\n  } finally {\n    client.release\\(\\);\n    await pool.end\\(\\);\n  }\n}\n\nsetupDatabase\\(\\).catch\\(console.error\\);\n\")",
      "Bash(POSTGRES_URL=\"postgres://postgres.bzabfkdopjydwkcutntz:vOArftFeh9iJ91Dd@aws-1-us-east-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { Pool } = require\\(''pg''\\);\nconst fs = require\\(''fs''\\);\n\nconst pool = new Pool\\({\n  connectionString: process.env.POSTGRES_URL,\n  ssl: { rejectUnauthorized: false }\n}\\);\n\nasync function setupDatabase\\(\\) {\n  const client = await pool.connect\\(\\);\n  try {\n    console.log\\(''âœ“ Connected to Supabase database''\\);\n    \n    // Read and execute schema\n    const schema = fs.readFileSync\\(''schema.sql'', ''utf8''\\);\n    await client.query\\(schema\\);\n    console.log\\(''âœ“ All tables created successfully''\\);\n    \n    // Also create notifications table if it doesn''t exist \\(for Railway compatibility\\)\n    await client.query\\(\\\\`\n      CREATE TABLE IF NOT EXISTS notifications \\(\n        id SERIAL PRIMARY KEY,\n        player_name VARCHAR\\(255\\),\n        message TEXT NOT NULL,\n        type VARCHAR\\(50\\),\n        read BOOLEAN DEFAULT FALSE,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      \\)\n    \\\\`\\);\n    console.log\\(''âœ“ Notifications table created''\\);\n    \n  } catch \\(error\\) {\n    console.error\\(''Error:'', error.message\\);\n    throw error;\n  } finally {\n    client.release\\(\\);\n    await pool.end\\(\\);\n  }\n}\n\nsetupDatabase\\(\\).catch\\(console.error\\);\n\")",
      "Bash(POSTGRES_URL=\"postgres://postgres.bzabfkdopjydwkcutntz:vOArftFeh9iJ91Dd@aws-1-us-east-1.pooler.supabase.com:6543/postgres\" node:*)",
      "Bash(npx web-push:*)",
      "Bash(timeout:*)",
      "Bash(git stash:*)",
      "Bash(git stash pop:*)",
      "Bash(npm start)",
      "Bash(powershell \"Start-Sleep -Seconds 5\")",
      "Bash(POSTGRES_URL=\"postgres://postgres.bzabfkdopjydwkcutntz:vOArftFeh9iJ91Dd@aws-1-us-east-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { Pool } = require\\(''pg''\\);\nconst pool = new Pool\\({ connectionString: process.env.POSTGRES_URL, ssl: { rejectUnauthorized: false } }\\);\n\nasync function cleanup\\(\\) {\n  try {\n    // Delete all test players \\(names starting with ''Test''\\)\n    const result = await pool.query\\(\"\"DELETE FROM players WHERE name LIKE ''Test%''\"\"\\);\n    console.log\\(''âœ… Deleted'', result.rowCount, ''test players''\\);\n    \n    // Delete test registrations\n    const regResult = await pool.query\\(\"\"DELETE FROM league_registration WHERE player_name LIKE ''Test%''\"\"\\);\n    console.log\\(''âœ… Deleted'', regResult.rowCount, ''test registrations''\\);\n    \n    await pool.end\\(\\);\n  } catch \\(e\\) {\n    console.error\\(''Error:'', e.message\\);\n  }\n}\n\ncleanup\\(\\);\n\")",
      "Bash(POSTGRES_URL=\"postgres://postgres.bzabfkdopjydwkcutntz:vOArftFeh9iJ91Dd@aws-1-us-east-1.pooler.supabase.com:6543/postgres\" node -e \"\nconst { Pool } = require\\(''pg''\\);\nconst pool = new Pool\\({ connectionString: process.env.POSTGRES_URL, ssl: { rejectUnauthorized: false } }\\);\n\nasync function cleanup\\(\\) {\n  try {\n    // Delete test notifications\n    const notifResult = await pool.query\\(\"\"DELETE FROM notifications WHERE player_name LIKE ''Test%''\"\"\\);\n    console.log\\(''âœ… Deleted'', notifResult.rowCount, ''test notifications''\\);\n    \n    // Delete test bookings\n    const bookResult = await pool.query\\(\"\"DELETE FROM table_bookings WHERE player1 LIKE ''Test%'' OR player2 LIKE ''Test%''\"\"\\);\n    console.log\\(''âœ… Deleted'', bookResult.rowCount, ''test bookings''\\);\n    \n    await pool.end\\(\\);\n  } catch \\(e\\) {\n    console.error\\(''Error:'', e.message\\);\n  }\n}\n\ncleanup\\(\\);\n\")",
      "Bash(powershell \"Stop-Process -Id 4412 -Force\")",
      "Bash(npm run build:*)",
      "Bash(cmd.exe /c \"taskkill /PID 22576 /F\")",
      "Bash(powershell.exe -Command \"Stop-Process -Id 22576 -Force\")"
    ]
  }
}
